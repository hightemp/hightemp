# Системные логи для траблшутинга

### Основные системные логи

- **`/var/log/syslog`** или **`/var/log/messages`** — основной системный журнал с общими сообщениями и событиями
- **`/var/log/auth.log`** или **`/var/log/secure`** — логи аутентификации и авторизации
- **`/var/log/kern.log`** — сообщения ядра Linux
- **`/var/log/dmesg`** — информация о загрузке системы и обнаружении оборудования
- **`/var/log/boot.log`** — информация о процессе загрузки
- **`journalctl`** — в системах с systemd для доступа к централизованным логам

### Логи сервисов

- **`/var/log/apache2/`** или **`/var/log/httpd/`** — логи веб-сервера Apache
- **`/var/log/nginx/`** — логи Nginx
- **`/var/log/mysql/`** — логи MySQL
- **`/var/log/postgresql/`** — логи PostgreSQL

## Контейнеризация и виртуализация

### Docker

- **`docker logs <container_name>`** — вывод логов контейнера
- **`docker events`** — события Docker-движка
- **`/var/lib/docker/containers/<container_id>/<container_id>-json.log`** — логи контейнера на хост-системе

### Kubernetes

- **`kubectl logs <pod_name>`** — логи пода
- **`kubectl describe pod <pod_name>`** — детальная информация о поде
- **`kubectl get events`** — события кластера

## PostgreSQL

- **Основные логи**: `postgresql-<день недели>.log` или настроенные в `postgresql.conf`
- **Логи транзакций**: `pg_xlog/` или `pg_wal/` (в новых версиях)
- **Внутри Docker**: используйте `docker logs` или смотрите путь, указанный в `postgresql.conf`

## Инструменты для анализа логов

- **`grep`, `awk`, `sed`** — базовые инструменты для фильтрации
- **`tail -f`** — для отслеживания логов в реальном времени
- **`journalctl -f`** — для систем с systemd
- **ELK Stack** (Elasticsearch, Logstash, Kibana) — для централизованного сбора и анализа
- **Graylog, Splunk** — для продвинутого мониторинга и анализа логов

## Стратегия траблшутинга

1. **Идентификация симптомов** — определите, что именно не работает
2. **Временная локализация** — когда началась проблема
3. **Проверка соответствующих логов** — выбор логов на основе симптомов
4. **Поиск по ключевым словам** — `error`, `critical`, `failed`, `warning`, `exception`
5. **Контекстный анализ** — исследование событий до и после ошибки
6. **Корреляция с изменениями** — связь с недавними обновлениями или изменениями