# –ù–∞–ø–∏—à–∏ –º–Ω–µ –æ –≤—Å–µ—Ö –Ω—å—é–∞–Ω—Å–∞—Ö –≤ php –æ –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ—á–µ–Ω—å –æ–ø—ã—Ç–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

## 1. –¢–∏–ø—ã, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º

* `declare(strict_types=1)` ‚Äî –≤–∫–ª—é—á–∞–π—Ç–µ –≤–µ–∑–¥–µ, –∏–Ω–∞—á–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –¥–∞—é—Ç –ª–æ–∂–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.  
* `===` vs `==`: ¬´–º–∞–≥–∏—á–µ—Å–∫–∏–µ¬ª –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è  
  * `'0e123' == 0`, `'' == 0`, `'false' == 0`  
* –ë—É–ª–µ–≤—ã –ª–æ–≤—É—à–∫–∏  
  * `(int)'false' == 0`, –Ω–æ `(bool)'false' == true`  
* Float ‚âà IEEE-754: `0.1 + 0.2 != 0.3`; –¥–ª—è –¥–µ–Ω–µ–≥ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `bcmath`/`gmp`.  
* –¶–µ–ª—ã–µ 32/64-bit: `PHP_INT_SIZE`; –∫–∞—Å—Ç string‚Üíint –Ω–∞ 32-–±–∏—Ç–Ω—ã—Ö Windows.  
* Null-safe –æ–ø–µ—Ä–∞—Ç–æ—Ä `?->` (8.0) ‚Äî –Ω–µ –ø—É—Ç–∞—Ç—å —Å `??`: –∫–æ—Ä–æ—Ç–∫–æ–µ-–∑–∞–º—ã–∫–∞–Ω–∏–µ –ø–æ–∑–∂–µ.  
* –ù–æ–≤—ã–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã `true|false|null` (8.2); `scalar` –µ—â—ë —É–¥–æ–±–µ–Ω –≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö.  
* Union, intersection (8.1), `never`, `mixed`.  
* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ deprecated (8.2) ‚Äî `__get/__set` –∏–ª–∏ `#[AllowDynamicProperties]`.

---

## 2. –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

* `Throwable` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç `Error` –∏ `Exception`; fatal ‚â† `Error`.  
* `try { ‚Ä¶ } finally` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –Ω–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç ¬´–ø—Ä–æ–≥–ª–æ—Ç–∏—Ç—å¬ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.  
* `set_error_handler` + `ErrorException` ‚Üí –µ–¥–∏–Ω—ã–π —Å—Ç–µ–∫ –æ—à–∏–±–æ–∫.  
* –ü—Ä–∏ `@`-—Å—É–ø—Ä–µ—Å—Å–∏–∏ –æ—à–∏–±–∫–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤ `error_get_last()`.  
* Memory limit + `register_shutdown_function`: –ø—Ä–∏ OOM —Å—Ç–µ–∫—Ç—Ä–µ–π—Å–∞ –Ω–µ—Ç.

---

## 3. –ü–∞–º—è—Ç—å, ZVAL, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

* Copy-on-write: `$b = $a` –∫–æ–ø–∏—Ä—É–µ—Ç zval, –Ω–æ –Ω–µ –±—É—Ñ–µ—Ä; –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è ¬´–æ—Ç—Ü–µ–ø–ª—è–µ—Ç¬ª.  
* `unset()` –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `refcount==1` (–∑–∞–º—ã–∫–∞–Ω–∏—è!).  
* GC —Ü–∏–∫–ª–æ–≤: `gc_enable()` / `gc_collect_cycles()`.  
* OPcache: `validate_timestamps`, `revalidate_freq`, `memory_consumption`.  
* Preloading (7.4+) ‚Äî immutable-–∫–ª–∞—Å—Å—ã; –ø–æ—Å–ª–µ deploy –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å FPM.  
* JIT (8.0+) —É—Å–∫–æ—Ä—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏–∫—É, –ø–æ—á—Ç–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ IO-heavy –≤–µ–±.

---

## 4. –û–±—ä–µ–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å

* `self` / `parent` / `static` (LSB).  
* `__clone` –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –≤–Ω—É—Ç—Ä–∏ —Å–≤–æ–π—Å—Ç–≤.  
* `readonly`-—Å–≤–æ–π—Å—Ç–≤–∞ (8.1) –∏ `readonly`-–∫–ª–∞—Å—Å—ã (8.2) ‚Äî —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏.  
* Traits: `insteadof`, `as`, private-alias –¥–ª—è DI.  
* Enum (8.1): `Backed`/`Unit`; `switch` –±–µ–∑ default ‚Äî `exhaustive`.  
* –ê—Ç—Ä–∏–±—É—Ç—ã `#[Attribute]` (8.0) ‚Äî —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è —Ä–∞–Ω—Ç–∞–π–º–æ–º.  
* `WeakMap` / `WeakRef` (7.4) ‚Äî –∫–µ—à–∏ –±–µ–∑ —É—Ç–µ—á–µ–∫.

---

## 5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* –ó–∞–º—ã–∫–∞–Ω–∏—è: `$this` –≤–Ω—É—Ç—Ä–∏ `closure->bindTo()`.  
* Arrow fn: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ value, –Ω–æ –æ–±—ä–µ–∫—Ç—ã –ø–æ —Å—Å—ã–ª–∫–µ.  
* Generators + `yield from`; `send()` –¥–ª—è middleware.  
* Fibers (8.1) ‚Äî –∫–æ—Ä—É—Ç–∏–Ω—ã —É—Ä–æ–≤–Ω—è —è–¥—Ä–∞.  
* First-class callable `Foo::bar(...)` (8.1) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Closure`.  
* `throw` –∫–∞–∫ expression (8.0); `match` –≤–º–µ—Å—Ç–æ `switch`.

---

## 6. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏ SPL

* Streams: `php://memory`, `php://filter`; –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ç–∞–π–º–∞—É—Ç—ã, `ssl://`.  
* SPL-–∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã: `RecursiveDirectoryIterator` + `RegexIterator`.  
* `SplFixedArray`, `SplPriorityQueue` ‚Äî —ç–∫–æ–Ω–æ–º—è—Ç –ø–∞–º—è—Ç—å, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å `[]`.  
* `DateTimeImmutable` + timezone ‚Äî –Ω–µ –¥–æ–≤–µ—Ä—è—Ç—å `date_default_timezone`.

---

## 7. Async / High-Performance —Å—Ç–µ–∫

* Swoole CLI –∏–ª–∏ ext-swoole –±–µ–∑ FPM; –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ coroutine-hooks.  
* RoadRunner ‚Äî –æ–±—ä–µ–∫—Ç—ã –∂–∏–≤—É—Ç –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏; –Ω—É–∂–µ–Ω state-reset.  
* ReactPHP / Amp: event-loop, cancellation token, back-pressure.  
* `parallel` / `pthreads` –¥–ª—è CPU-bound CLI; `pcntl_fork` –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

---

## 8. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* SQL ‚Äî PDO prepared + –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π charset –≤ DSN (`charset=utf8mb4`).  
* XSS ‚Äî `htmlspecialchars($x, ENT_QUOTES|ENT_SUBSTITUTE,'UTF-8')`.  
* CSRF ‚Äî SameSite=`Lax|Strict` + double-submit token / Origin-check.  
* –ü–∞—Ä–æ–ª–∏: `password_hash()` (Argon2id), pepper, libsodium.  
* `random_bytes()` / `random_int()` ‚Äî –Ω–µ `mt_rand()`.  
* –¢–∞–π–º–∏–Ω–≥-–∞—Ç–∞–∫–∏: `hash_equals()`.  
* –°–µ—Å—Å–∏–∏: `session.cookie_secure`, `httponly`, `samesite`, custom store.

---

## 9. Composer –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞

* `composer.lock` ‚Äî –∫–æ–º–º–∏—Ç–∏–º; `--prefer-dist` vs `--prefer-source`.  
* Semver: `^1.2 = >=1.2 <2.0.0`; `^0.x` ‚Äî –ª–æ–º–∞—Ç—å API –Ω–µ–ª—å–∑—è.  
* –ê–≤—Ç–æ–ª–æ–∞–¥: `composer dump-autoload -o`, `--classmap-authoritative`.  
* –ü–ª–∞–≥–∏–Ω—ã —Ç—Ä–µ–±—É—é—Ç `allow-plugins` (Composer 2.2+).  
* `repositories` path/vcs ‚Äî –Ω–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å –≤ production.

---

## 10. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

* PHPUnit 10: —Ç–µ—Å—Ç-–∫–ª–∞—Å—Å—ã `final`, `@dataProvider` ‚Üí `static`.  
* Pest ‚Äî BDD DSL, `beforeAll()`.  
* PhpStan / Psalm: —É—Ä–æ–≤–Ω–∏ 8/9, generics —á–µ—Ä–µ–∑ `@template`.  
* Infection (mutation testing) ‚Äî 100 % –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

---

## 11. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

* FPM: `pm=dynamic`, `request_terminate_timeout`, `process_control=1`.  
* Docker: `alpine` + `glibc` –∏–ª–∏ `debian-slim`; —Å–ª–æ–∏ —Å `pecl install`.  
* –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç `php.ini`: SAPI ‚Üí pool ‚Üí `.user.ini` ‚Üí `ini_set()`.  
* OPcache + Docker: `opcache.file_cache_only=1` –≤ RO-volume.  
* Preload: –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏; –≤ k8s –ø–æ—Å–ª–µ –Ω–æ–≤–æ–≥–æ Pod ‚Äî reload.

---

## 12. –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ FFI

* ext-intl: `Collator` vs `strcmp`; `MessageFormatter` ICU-plural.  
* GD vs Imagick: 1 px = 4 –±–∞–π—Ç–∞; 100 –ú–ø = 400 –ú–ë RAM.  
* Redis: `pconnect` + AUTH –≤ –∫–∞–∂–¥–æ–º worker.  
* FFI (7.4+) ‚Äî –Ω–µ –ø–æ–¥ FPM —Å preload+JIT –¥–æ 8.1 (segfault).  
* `opcache.huge_code_pages` ‚Äî +2 % –ø–µ—Ä—Ñ–æ–º–∞–Ω—Å–∞.

---

## 13. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏

* UTF-8 everywhere; BOM –ª–æ–º–∞–µ—Ç `header()`.  
* `mbstring.func_overload` —É—Å—Ç–∞—Ä–µ–ª; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `mb_‚Ä¶`.  
* `grapheme_*` –¥–ª—è emoji, –∏–Ω–∞—á–µ `substr()` —Ä–≤—ë—Ç surrogate-pair.

---

## 14. –î–∞—Ç–∞/–≤—Ä–µ–º—è

* `DateTimeImmutable` vs `DateTime` (–º—É—Ç–∞–±–µ–ª–µ–Ω).  
* DST: `$tz->getTransitions()`; ¬´–ø—Ä—ã–≥–∞—é—â–∏–π¬ª —á–∞—Å 02:30 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.  
* Carbon 2 —É–∂–µ –Ω–∞ Immutable.

---

## 15. –†–∞–∑–Ω–æ–µ, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ–µ

* `foreach (&$value)` –º–µ–Ω—è–µ—Ç –º–∞—Å—Å–∏–≤; –Ω–µ –∑–∞–±—É–¥—å—Ç–µ `unset($value)` –ø–æ—Å–ª–µ —Ü–∏–∫–ª–∞.  
* `list(,, $c)` + `array_is_list()` (8.1) –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç JSON.  
* `glob()` –Ω–µ –≤–∏–¥–∏—Ç —Ñ–∞–π–ª—ã –≤–Ω—É—Ç—Ä–∏ phar ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `RecursiveIteratorIterator`.  
* `json_encode(JSON_INVALID_UTF8_SUBSTITUTE)` –≤–º–µ—Å—Ç–æ silent truncate.  
* `stream_select()` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ Windows.  
* ¬´Headers already sent¬ª ‚Äî `var_dump` –¥–æ `session_start()`.  
* `assert()` –æ—Ç–∫–ª—é—á—ë–Ω –≤ prod; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `webmozart/assert`.

---

## 16. –ß—Ç–æ —á–∏—Ç–∞—Ç—å/—Å–º–æ—Ç—Ä–µ—Ç—å

* –ê—Ä—Ö–∏–≤ RFC: <https://wiki.php.net/rfc>  
* –ë–ª–æ–≥–∏ Nikita Popov, Ilija Tovilo.  
* Sara Golemon ¬´Extending and Embedding PHP¬ª.  
* OWASP PHP Cheat-Sheet.  
* PHP-FIG: PSR-1‚Ä¶20 (–æ—Å–æ–±–µ–Ω–Ω–æ 12, 18, 14).

# ¬´Copy-on-write¬ª: $b = $a –∫–æ–ø–∏—Ä—É–µ—Ç zval, –Ω–æ –Ω–µ –±—É—Ñ–µ—Ä; –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è ¬´–æ—Ç—Ü–µ–ø–ª—è–µ—Ç¬ª (–∏–º–µ—Ç—å –≤ –≤–∏–¥—É –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–∞—Ö).

**Copy-on-write (COW)** –≤ PHP ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–æ –º–æ–º–µ–Ω—Ç–∞ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. –ü—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ `$b = $a`:
```php
$a = [1, 2, 3, 4, 5]; // –°–æ–∑–¥–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ –≤ –ø–∞–º—è—Ç–∏
$b = $a;              // –ù–ï –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è! –¢–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ—Ç –∂–µ –±—É—Ñ–µ—Ä
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **zval** (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π)
- **–ë—É—Ñ–µ—Ä –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞–µ—Ç—Å—è –æ–¥–∏–Ω** –¥–ª—è –æ–±–µ–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ (refcount)

### 2. –ü—Ä–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "–æ—Ç—Ü–µ–ø–ª–µ–Ω–∏–µ":
```php
$a = [1, 2, 3, 4, 5];
$b = $a;              // –û–±–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–∏–Ω –±—É—Ñ–µ—Ä
$b[0] = 999;          // –í–û–¢ –ó–î–ï–°–¨ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ!
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏:**
- PHP –≤–∏–¥–∏—Ç, —á—Ç–æ –±—É—Ñ–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- –°–æ–∑–¥–∞–µ—Ç—Å—è **–Ω–æ–≤–∞—è –∫–æ–ø–∏—è** –±—É—Ñ–µ—Ä–∞ –¥–ª—è `$b`
- `$a` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:

```php
// –ë–æ–ª—å—à–æ–π –º–∞—Å—Å–∏–≤
$bigArray = range(1, 1000000);

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ zval, –Ω–æ –ù–ï –¥–∞–Ω–Ω—ã—Ö
$copy1 = $bigArray;  // –ë—ã—Å—Ç—Ä–æ, –ø–∞–º—è—Ç–∏ –ø–æ—á—Ç–∏ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è
$copy2 = $bigArray;  // –ë—ã—Å—Ç—Ä–æ, –ø–∞–º—è—Ç–∏ –ø–æ—á—Ç–∏ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è
$copy3 = $bigArray;  // –ë—ã—Å—Ç—Ä–æ, –ø–∞–º—è—Ç–∏ –ø–æ—á—Ç–∏ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è

echo memory_get_usage(); // –ü–∞–º—è—Ç—å –ø–æ—á—Ç–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

// –ê —Ç–µ–ø–µ—Ä—å –∏–∑–º–µ–Ω—è–µ–º –æ–¥–Ω—É –∏–∑ –∫–æ–ø–∏–π
$copy1[0] = 'modified'; // –í–û–¢ –ó–î–ï–°–¨ —Ç—Ä–∞—Ç–∏—Ç—Å—è –ø–∞–º—è—Ç—å –Ω–∞ –ø–æ–ª–Ω—É—é –∫–æ–ø–∏—é!

echo memory_get_usage(); // –ü–∞–º—è—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å
```

## –í–∞–∂–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤:

### ‚úÖ **–•–æ—Ä–æ—à–æ:**
```php
function processArray($data) {
    // –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ù–ï –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
    foreach ($data as $item) {
        echo $item;
    }
}

$bigArray = range(1, 1000000);
processArray($bigArray); // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø–æ –ø–∞–º—è—Ç–∏
```

### ‚ùå **–ü–ª–æ—Ö–æ:**
```php
function modifyArray($data) {
    $data[0] = 'changed'; // –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è –í–°–Ø —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö!
    return $data;
}

$bigArray = range(1, 1000000);
$modified = modifyArray($bigArray); // –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ - –¥–≤–æ–π–Ω–∞—è –ø–∞–º—è—Ç—å
```

### üîß **–†–µ—à–µ–Ω–∏–µ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
```php
function modifyArrayByReference(&$data) {
    $data[0] = 'changed'; // –ò–∑–º–µ–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ—Ç
}

// –ò–ª–∏ —è–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º
$bigArray[0] = 'changed';
```

## –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **–ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –¥–µ—à–µ–≤–æ** ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ zval
2. **–ü–µ—Ä–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ—Ä–æ–≥–æ** ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å –±—É—Ñ–µ—Ä
3. **–ß—Ç–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ** ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–î–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∏–∑–±–µ–≥–∞–π—Ç–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π –∫–æ–ø–∏–π

–≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –¥–µ–ª–∞–µ—Ç PHP —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –ø–æ –ø–∞–º—è—Ç–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.