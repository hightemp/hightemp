# –ù–∞–ø–∏—à–∏ –º–Ω–µ –æ –≤—Å–µ—Ö –Ω—å—é–∞–Ω—Å–∞—Ö –≤ php –æ –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ—á–µ–Ω—å –æ–ø—ã—Ç–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

–ù–∏–∂–µ ‚Äî –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ¬´—Å–ø–∏—Å–æ–∫ –ø–∞–º—è—Ç–∏¬ª –¥–ª—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ–ø—ã—Ç–Ω–æ–≥–æ PHP-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞. –û–Ω —Ä–∞–∑–±–∏—Ç –Ω–∞ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏, —á—Ç–æ–±—ã –∏–º –±—ã–ª–æ —É–¥–æ–±–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ —á–µ–∫-–ª–∏—Å—Ç–æ–º. –í –∫–∞–∂–¥–æ–º –ø—É–Ω–∫—Ç–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã —Å–∞–º—ã–µ —á–∞—Å—Ç—ã–µ —Ç–æ–Ω–∫–∏–µ –º–µ—Å—Ç–∞, –∫ –∫–æ—Ç–æ—Ä—ã–º —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ–±—Ä–∞—â–∞—Ç—å—Å—è –≤ ¬´–±–æ–µ–≤–æ–º¬ª –∫–æ–¥–µ.

1. –¢–∏–ø—ã, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º
‚Ä¢ declare(strict_types=1) ‚Äî –≤–∫–ª—é—á–∞–π—Ç–µ –≤–µ–∑–¥–µ, –∏–Ω–∞—á–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –¥–∞—é—Ç –ª–æ–∂–Ω–æ–µ —á—É–≤—Å—Ç–≤–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.  
‚Ä¢ === –ø—Ä–æ—Ç–∏–≤ ==: ¬´–º–∞–≥–∏—á–µ—Å–∫–æ–µ¬ª –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ '0e123' == 0, '' == 0 –∏ —Ç. –ø.  
‚Ä¢ –ë—É–ª–µ–≤—ã –ª–æ–≤—É—à–∫–∏: (int)'false' == 0, –Ω–æ (bool)'false' == true.  
‚Ä¢ Float ‚âà IEEE-754: 0.1 + 0.2 != 0.3; bcmath/gmp –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤.  
‚Ä¢ –¶–µ–ª—ã–µ 32/64-bit: PHP_INT_SIZE; –∫–∞—Å—Ç—ã –∏–∑ string –Ω–∞ 32-–±–∏—Ç–Ω—ã—Ö Windows.  
‚Ä¢ null safe –æ–ø–µ—Ä–∞—Ç–æ—Ä ?-> (8.0) ‚Äî –Ω–µ –ø—É—Ç–∞—Ç—å —Å ??: –∫–æ—Ä–æ—Ç–∫–æ–µ-–∑–∞–º—ã–∫–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∑–∂–µ.  
‚Ä¢ –ù–æ–≤—ã–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã true/false/null (8.2); scalar –≤—Å—ë –µ—â—ë —É–¥–æ–±–µ–Ω –≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö.  
‚Ä¢ Union, intersection (8.1), stand-alone null|Foo, never, mixed.  
‚Ä¢ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ deprecated (8.2) ‚Äî __get/__set –∏–ª–∏ –∞—Ç—Ä–∏–±—É—Ç #[AllowDynamicProperties].  

2. –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚Ä¢ Throwable –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç Error –∏ Exception; fatal != Error.  
‚Ä¢ try {‚Ä¶} finally –≤—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –¥–∞–∂–µ –ø—Ä–∏ fatal –≤–Ω—É—Ç—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –æ—Ç–º–µ–Ω–∞ Yield –º–æ–∂–µ—Ç ¬´–ø—Ä–æ–≥–ª–æ—Ç–∏—Ç—å¬ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ.  
‚Ä¢ error_reporting + set_error_handler + ErrorException = –µ–¥–∏–Ω—ã–π —Å—Ç–µ–∫ –æ—à–∏–±–æ–∫.  
‚Ä¢ –ü—Ä–∏ @-—Å—É–ø—Ä–µ—Å—Å–∏–∏ –æ—à–∏–±–∫–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ error_get_last().  
‚Ä¢ Memory limit –∏ Shutdown function: –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –º–æ–∂–µ—Ç —É–∂–µ –ø–æ—Å–ª–µ fatal OOM, –≤ $last_error –Ω–µ—Ç —Å—Ç–µ–∫—Ç—Ä–µ–π—Å–∞.  

3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é, ZVAL –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
‚Ä¢ ¬´Copy-on-write¬ª: $b = $a –∫–æ–ø–∏—Ä—É–µ—Ç zval, –Ω–æ –Ω–µ –±—É—Ñ–µ—Ä; –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è ¬´–æ—Ç—Ü–µ–ø–ª—è–µ—Ç¬ª (–∏–º–µ—Ç—å –≤ –≤–∏–¥—É –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–∞—Ö).  
‚Ä¢ unset() –Ω–µ –≤—Å–µ–≥–¥–∞ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Å—Ä–∞–∑—É ‚Äî –ø–æ–∫–∞ refcount > 0 (–æ—Å–æ–±–µ–Ω–Ω–æ –≤–Ω—É—Ç—Ä—å –∑–∞–º—ã–∫–∞–Ω–∏–π).  
‚Ä¢ GC —Ü–∏–∫–ª–æ–≤: gc_enable/gc_collect_cycles; –∫–æ–Ω—Ç—É—Ä-—É—Ç–µ—á–∫–∏ –≤ SPL SplObjectStorage.  
‚Ä¢ OPcache: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ opcache.validate_timestamps, revalidate_freq, memory_consumption.  
‚Ä¢ Preloading (7.4+) ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ immutable-–∫–ª–∞—Å—Å—ã; –ø—Ä–∏ deploy –Ω–∞–¥–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å FPM.  
‚Ä¢ JIT (8.0+) —É—Å–∫–æ—Ä—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏–∫—É –∏ –ø–ª–µ—á–æ FFI, –Ω–æ –ø–æ—á—Ç–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ IO-heavy –≤–µ–±.  

4. –û–±—ä–µ–∫—Ç–Ω–∞—è –º–æ–¥–µ–ª—å
‚Ä¢ self/parent/static (LSB). static –≤–Ω—É—Ç—Ä–∏ –∑–∞–º—ã–∫–∞–Ω–∏–π –¥–æ 8.1 –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –≤ —Ç–∏–ø–∞—Ö.  
‚Ä¢ __clone –∏ –æ–±—ä–µ–∫—Ç–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞-—Å—Å—ã–ª–∫–∏ (SplObjectStorage –≤–Ω—É—Ç—Ä–∏).  
‚Ä¢ readonly-—Å–≤–æ–π—Å—Ç–≤–∞ (8.1) –∏ readonly-–∫–ª–∞—Å—Å—ã (8.2) ‚Äî –Ω–µ –ø—É—Ç–∞—Ç—å: –ø–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.  
‚Ä¢ Traits: –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º—ë–Ω, insteadof, as visibility, private alias –¥–ª—è DI.  
‚Ä¢ Enum (Backed/Unit) 8.1: value –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, switch(exhaustive) + instanceof UnitEnum.  
‚Ä¢ –ù–æ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã #[Attribute] (8.0) ‚Äî —Ä–µ–∑–æ–ª–≤—è—Ç—Å—è —Ä–∞–Ω—Ç–∞–π–º-—Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π, –Ω–µ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.  
‚Ä¢ WeakMap/WeakRef (7.4) ‚Äî –∫–µ—à–∏ –±–µ–∑ —É—Ç–µ—á–µ–∫, –Ω–æ –¥–µ—Ä–∂–∞—Ç—Å—è –ø–æ–∫–∞ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω strong-ref.  

5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
‚Ä¢ –ó–∞–º—ã–∫–∞–Ω–∏—è: $this –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–π —Å 7.1 –ø—Ä–∏ bindTo(null,'Class').  
‚Ä¢ Arrow fn fn($x) => $x*$y; –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ value, –Ω–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ —Å—Å—ã–ª–∫–µ.  
‚Ä¢ Generators + yield from; send() –≤ middleware-—Å—Ç–µ–∫–µ.  
‚Ä¢ Fibers (8.1) ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∫–æ—Ä—É—Ç–∏–Ω—ã; ReactPHP/Amp 3 —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç.  
‚Ä¢ First-class callable Foo::bar(...) (8.1) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Closure.  
‚Ä¢ throw –∫–∞–∫ expression (8.0); match –≤–º–µ—Å—Ç–æ switch –±–µ–∑ –ø–∞–¥–µ–Ω–∏—è.  

6. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏ SPL
‚Ä¢ Streams: php://memory, php://filter; –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ç–∞–π–º–∞—É—Ç—ã, ssl://, –æ–±—ë—Ä—Ç–∫–∞ ftps:// (—Ä–∞–∑–Ω—ã–µ –æ—Ç ftp+tls).  
‚Ä¢ SPL-–∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã: RecursiveDirectoryIterator —Å RegexIterator, CallbackFilterIterator.  
‚Ä¢ SplFixedArray/ SplPriorityQueue ‚Äî —Å–ø–∞—Å–∞—é—Ç –ø–∞–º—è—Ç—å, –Ω–æ –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å [].  
‚Ä¢ DateTimeImmutable + timezone ‚Äî –Ω–µ –¥–æ–≤–µ—Ä—è—Ç—å default_timezone ini –ø—Ä–∏ CLI-–∫—Ä–æ–Ω–∞—Ö.  

7. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π async-/high-performance —Å—Ç–µ–∫
‚Ä¢ Swoole/FPM conflict: Swoole CLI –∏–ª–∏ ext-swoole –±–µ–∑ FPM, –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ coroutine-—Ö—É–∫.  
‚Ä¢ RoadRunner (Go worker) ‚Äî shared-nothing, –æ–±—ä–µ–∫—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏; –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ state-reset.  
‚Ä¢ ReactPHP/Amp: event-loop, cancellation token, back-pressure —á–µ—Ä–µ–∑ promises.  
‚Ä¢ parallel / pthreads –¥–ª—è CPU-bound –≤ CLI; Fork-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç —á–µ—Ä–µ–∑ pcntl.  

8. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚Ä¢ SQL ‚Äî PDO prepared ok, –Ω–æ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ charset –ø—Ä–∏ mysqlnd (¬´SET NAMES ‚Ä¶¬ª —É—Å—Ç–∞—Ä–µ–ª, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ DSN ;charset).  
‚Ä¢ XSS ‚Äî htmlspecialchars($x, ENT_QUOTES | ENT_SUBSTITUTE, 'UTF-8').  
‚Ä¢ CSRF ‚Äî SameSite=Lax/Strict + double submit token; –≤ SPA ‚Äî origin-header –ø—Ä–æ–≤–µ—Ä–∫–∞.  
‚Ä¢ Passwords: password_hash(), Argon2id, pepper + libsodium_crypto_pwhash.  
‚Ä¢ random_bytes()/random_int() ‚Äî –Ω–µ mt_rand().  
‚Ä¢ Timing attacks: hash_equals.  
‚Ä¢ Session-cookie: session.cookie_secure/httponly/samesite=Strict + custom session_set_save_handler.  

9. Composer –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞
‚Ä¢ composer.lock ‚Äî –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ CI; --prefer-dist vs --prefer-source.  
‚Ä¢ Semver: ^1.2 = >=1.2 <2.0.0; –≤—Å–µ –µ—â–µ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ ^0.x –ª–æ–º–∞—Ç—å API.  
‚Ä¢ Autoload-optimization: composer dump-autoload -o, classmap-authoritative.  
‚Ä¢ Scripts & Plugins: post-install-cmd, composer-plugin-api, —Ç—Ä–µ–±—É–µ—Ç allow-plugins –≤ 2.2+.  
‚Ä¢ Repositories path/vcs ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ –ø–∞—Ç—á–∏—Ç–µ —Ñ–æ—Ä–∫–∏, –Ω–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –≤ production.  

10. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
‚Ä¢ PHPUnit 10: —Ç–µ—Å—Ç-–∫–ª–∞—Å—Å—ã final, dataProvider ‚Üí static.  
‚Ä¢ Pest ‚Äî BBD-DSL, shared beforeAll(); doctrine annotations —É—Å—Ç–∞—Ä–µ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Ç—Ä–∏–±—É—Ç—ã #[CoversClass].  
‚Ä¢ php-stan/psalm: —É—Ä–æ–≤–Ω–∏ 8/9, generics —á–µ—Ä–µ–∑ @template/@param-out; baseline –¥–ª—è –ª–µ–≥–∞—Å–∏.  
‚Ä¢ Infection (mutation testing): —Ç—Ä–µ–±—É–µ—Ç 100 % –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤.  

11. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚Ä¢ FPM: pm = dynamic/request_terminate_timeout; process_control 1 –¥–ª—è graceful reload.  
‚Ä¢ Docker: –∫–æ–º–ø–æ–Ω–æ–≤–∫–∞ alpine + glibc –∏–ª–∏ debian-slim; —Å–ª–æ–∏ —Å pecl-install –∏–Ω–∞—á–µ –∫–µ—à —Ä–∞–∑–¥—É–≤–∞–µ—Ç—Å—è.  
‚Ä¢ php.ini –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: SAPI-global ‚Üí php-fpm.d/pool ‚Üí .user.ini ‚Üí ini_set().  
‚Ä¢ OPCache + Docker: opcache.file_cache_only=1 –≤ read-only volume.  
‚Ä¢ Preloading —Ç—Ä–µ–±—É–µ—Ç absolute-path; –≤ Kubernetes –ø–æ—Å–ª–µ –Ω–æ–≤–æ–≥–æ Pod –Ω–∞–¥–æ reload-script.  

12. –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ FFI
‚Ä¢ ext-intl: Collator vs strcmp; MessageFormatter ICU-plural-rules.  
‚Ä¢ ext-gd vs imagick: –ø–∞–º—è—Ç—å –Ω–∞ –æ–¥–∏–Ω –ø–∏–∫—Å–µ–ª—å = 4 –±–∞–π—Ç–∞, –ø—Ä–∏ 100 –ú–ø = 400 –ú–ë.  
‚Ä¢ Redis ‚Äî persistent = pconnect + AUTH EACH WORKER; –∏–Ω–∞—á–µ 127.0.0.1: Connection lost.  
‚Ä¢ FFI (7.4+) ‚Äî –º–æ–∂–Ω–æ –¥–µ—Ä–≥–∞—Ç—å C-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–æ –Ω–µ –ø–æ–¥ FPM —Å preload –∏ JIT ‚Äî segfault, —Ñ–∏–∫—à–µ–Ω–æ 8.1.  
‚Ä¢ OPcache-huge_code_pages –Ω–∞ Linux 2 % –≤—ã–∏–≥—Ä—ã—à–∞; –¥–µ—Ä–∂–∞—Ç—å vm.nr_hugepages.  

13. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏
‚Ä¢ UTF-8 everywhere; declare(encoding='UTF-8') –Ω–µ –Ω—É–∂–µ–Ω, –Ω–æ BOM –ª–æ–º–∞–µ—Ç header().  
‚Ä¢ mbstring.func_overload —É—Å—Ç–∞—Ä–µ–ª; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ mb_substr, iconv_substr.  
‚Ä¢ grapheme_* –¥–ª—è emoji, –∏–Ω–∞—á–µ substr() —Ä–≤—ë—Ç surrogate-pair.  

14. –î–∞—Ç–∞/–≤—Ä–µ–º—è
‚Ä¢ DateTimeImmutable vs DateTime (–º—É—Ç–∞–±–µ–ª–µ–Ω).  
‚Ä¢ Zoned intervals: $tz->getTransitions() –Ω–∞ DST; ¬´–ø—Ä—ã–≥–∞—é—â–∏–π¬ª —á–∞—Å 02:30 –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.  
‚Ä¢ Carbon/Luxon? Carbon 2 —É–∂–µ –Ω–∞ Immutable.  

15. –†–∞–∑–Ω–æ–µ, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ–µ –≤—Å–ø–æ–º–Ω–∏—Ç—å
‚Ä¢ forearch (&$value) –º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –º–∞—Å—Å–∏–≤, —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —É–¥–µ—Ä–∂–∞–Ω–Ω–æ–π —Å—Å—ã–ª–∫–æ–π –ø–æ—Å–ª–µ —Ü–∏–∫–ª–∞.  
‚Ä¢ list(,,$c) + array_is_list (8.1) ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON.  
‚Ä¢ glob() –Ω–µ–≤–∏–¥–∏–º –≤ phar, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ RecursiveIteratorIterator.  
‚Ä¢ json_encode(JSON_INVALID_UTF8_SUBSTITUTE) –≤–º–µ—Å—Ç–æ silent truncate.  
‚Ä¢ stream_select –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ –Ω–∞ Windows.  
‚Ä¢ Headers already sent ‚Äî var_dump –≤ output-buffer –¥–æ session_start().  
‚Ä¢ assert() –æ—Ç–∫–ª—é—á—ë–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤ prod –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ polyfill webmozart/assert.  

16. –ß—Ç–æ —á–∏—Ç–∞—Ç—å/—Å–º–æ—Ç—Ä–µ—Ç—å
‚Ä¢ RFC-–∞—Ä—Ö–∏–≤ php-internals (wiki.php.net/rfc).  
‚Ä¢ Nikita Popov & Ilija Tovilo –±–ª–æ–≥–∏ ‚Äî –≤—Å–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –Ω–æ–≤—ã—Ö —Ñ–∏—á.  
‚Ä¢ Sara Golemon ¬´Extending and Embedding PHP¬ª (–¥–ª—è FFI/—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π).  
‚Ä¢ OWASP-PHP-cheatsheet.  
‚Ä¢ PHP-FIG PSR-1‚Ä¶PSR-20, –æ—Å–æ–±–µ–Ω–Ω–æ PSR-12, PSR-18, PSR-14.  

# ¬´Copy-on-write¬ª: $b = $a –∫–æ–ø–∏—Ä—É–µ—Ç zval, –Ω–æ –Ω–µ –±—É—Ñ–µ—Ä; –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è ¬´–æ—Ç—Ü–µ–ø–ª—è–µ—Ç¬ª (–∏–º–µ—Ç—å –≤ –≤–∏–¥—É –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–∞—Ö).

**Copy-on-write (COW)** –≤ PHP ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–æ –º–æ–º–µ–Ω—Ç–∞ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. –ü—Ä–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–∏ `$b = $a`:
```php
$a = [1, 2, 3, 4, 5]; // –°–æ–∑–¥–∞–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ –≤ –ø–∞–º—è—Ç–∏
$b = $a;              // –ù–ï –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è! –¢–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–æ—Ç –∂–µ –±—É—Ñ–µ—Ä
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ **zval** (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π)
- **–ë—É—Ñ–µ—Ä –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞–µ—Ç—Å—è –æ–¥–∏–Ω** –¥–ª—è –æ–±–µ–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫ (refcount)

### 2. –ü—Ä–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "–æ—Ç—Ü–µ–ø–ª–µ–Ω–∏–µ":
```php
$a = [1, 2, 3, 4, 5];
$b = $a;              // –û–±–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–∏–Ω –±—É—Ñ–µ—Ä
$b[0] = 999;          // –í–û–¢ –ó–î–ï–°–¨ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ!
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏:**
- PHP –≤–∏–¥–∏—Ç, —á—Ç–æ –±—É—Ñ–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- –°–æ–∑–¥–∞–µ—Ç—Å—è **–Ω–æ–≤–∞—è –∫–æ–ø–∏—è** –±—É—Ñ–µ—Ä–∞ –¥–ª—è `$b`
- `$a` –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –±—É—Ñ–µ—Ä

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:

```php
// –ë–æ–ª—å—à–æ–π –º–∞—Å—Å–∏–≤
$bigArray = range(1, 1000000);

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ zval, –Ω–æ –ù–ï –¥–∞–Ω–Ω—ã—Ö
$copy1 = $bigArray;  // –ë—ã—Å—Ç—Ä–æ, –ø–∞–º—è—Ç–∏ –ø–æ—á—Ç–∏ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è
$copy2 = $bigArray;  // –ë—ã—Å—Ç—Ä–æ, –ø–∞–º—è—Ç–∏ –ø–æ—á—Ç–∏ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è
$copy3 = $bigArray;  // –ë—ã—Å—Ç—Ä–æ, –ø–∞–º—è—Ç–∏ –ø–æ—á—Ç–∏ –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—Å—è

echo memory_get_usage(); // –ü–∞–º—è—Ç—å –ø–æ—á—Ç–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

// –ê —Ç–µ–ø–µ—Ä—å –∏–∑–º–µ–Ω—è–µ–º –æ–¥–Ω—É –∏–∑ –∫–æ–ø–∏–π
$copy1[0] = 'modified'; // –í–û–¢ –ó–î–ï–°–¨ —Ç—Ä–∞—Ç–∏—Ç—Å—è –ø–∞–º—è—Ç—å –Ω–∞ –ø–æ–ª–Ω—É—é –∫–æ–ø–∏—é!

echo memory_get_usage(); // –ü–∞–º—è—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏–ª–∞—Å—å
```

## –í–∞–∂–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤:

### ‚úÖ **–•–æ—Ä–æ—à–æ:**
```php
function processArray($data) {
    // –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ù–ï –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
    foreach ($data as $item) {
        echo $item;
    }
}

$bigArray = range(1, 1000000);
processArray($bigArray); // –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø–æ –ø–∞–º—è—Ç–∏
```

### ‚ùå **–ü–ª–æ—Ö–æ:**
```php
function modifyArray($data) {
    $data[0] = 'changed'; // –ö–æ–ø–∏—Ä—É–µ—Ç—Å—è –í–°–Ø —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö!
    return $data;
}

$bigArray = range(1, 1000000);
$modified = modifyArray($bigArray); // –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ - –¥–≤–æ–π–Ω–∞—è –ø–∞–º—è—Ç—å
```

### üîß **–†–µ—à–µ–Ω–∏–µ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
```php
function modifyArrayByReference(&$data) {
    $data[0] = 'changed'; // –ò–∑–º–µ–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ—Ç
}

// –ò–ª–∏ —è–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–º
$bigArray[0] = 'changed';
```

## –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **–ü—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ –¥–µ—à–µ–≤–æ** ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ zval
2. **–ü–µ—Ä–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–æ—Ä–æ–≥–æ** ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å –±—É—Ñ–µ—Ä
3. **–ß—Ç–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ** ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–î–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∏–∑–±–µ–≥–∞–π—Ç–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π –∫–æ–ø–∏–π

–≠—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –¥–µ–ª–∞–µ—Ç PHP —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –ø–æ –ø–∞–º—è—Ç–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.